@if(isLoading) {
<div class="loader">
    <svg class="car" width="102" height="40" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(2 1)" stroke="#FC424A" fill="none" fill-rule="evenodd" stroke-linecap="round"
            stroke-linejoin="round">
            <path class="car__body"
                d="M47.293 2.375C52.927.792 54.017.805 54.017.805c2.613-.445 6.838-.337 9.42.237l8.381 1.863c2.59.576 6.164 2.606 7.98 4.531l6.348 6.732 6.245 1.877c3.098.508 5.609 3.431 5.609 6.507v4.206c0 .29-2.536 4.189-5.687 4.189H36.808c-2.655 0-4.34-2.1-3.688-4.67 0 0 3.71-19.944 14.173-23.902zM36.5 15.5h54.01"
                stroke-width="3" />
            <ellipse class="car__wheel--left" stroke-width="3.2" fill="#FFF" cx="83.493" cy="30.25" rx="6.922"
                ry="6.808" />
            <ellipse class="car__wheel--right" stroke-width="3.2" fill="#FFF" cx="46.511" cy="30.25" rx="6.922"
                ry="6.808" />
            <path class="car__line car__line--top" d="M22.5 16.5H2.475" stroke-width="3" />
            <path class="car__line car__line--middle" d="M20.5 23.5H.4755" stroke-width="3" />
            <path class="car__line car__line--bottom" d="M25.5 9.5h-19" stroke-width="3" />
        </g>
    </svg>
</div>
} @else {
<div class="container-scroller">

    <app-menu></app-menu>

    <div class="page-body-wrapper">
        <app-nav></app-nav>

        <div class="main-panel">
            <div class="content-wrapper">
                @if (delerId) {
                <h2 class="text-light text-center pb-3 border-bottom">Edit Importer Profile</h2>
                } @else {
                <h2 class="text-light text-center pb-3 border-bottom">Add Importer Profile</h2>
                }
                @if (delerId) {
                <form class="forms-sample" *ngIf="editDelerForm" [formGroup]="editDelerForm" (ngSubmit)="editDeler()">
                    <div class="modal-body text-light">
                        <div class="d-flex flex-wrap form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Profile Image:</label>
                                <div class="input-group">
                                    <ngx-file-drop class="" dropZoneLabel="Drop files here"
                                        (onFileDrop)="dropped($event)" (onFileOver)="fileOver($event)"
                                        (onFileLeave)="fileLeave($event)"
                                        style="width: 200px; height: 200px; border: 2px dashed #DC3545; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                        <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                                            <div class="text-center">
                                                <div class="text-light mr-2 mb-3">Drag & Drop Profile Photo
                                                    here</div>
                                                <button type="button" class="btn btn-danger"
                                                    (click)="openFileSelector()">Browse Files</button>
                                            </div>
                                        </ng-template>

                                    </ngx-file-drop>
                                    @if (imagePath !== undefined || imagePath !== null || imagePath !== '') {
                                    <div class="upload-table">
                                        <span class="d-flex flex-wrap justify-content-start align-items-center ml-4">
                                            @if(imagePath) {
                                            <img src="{{imagePath}}" alt="User Profile Image"
                                                class="rounded-circle mr-1 mb-1" width="200px" height="200px"
                                                style="object-fit: cover;" />
                                            } @else {
                                            <!-- https://png.pngtree.com/png-vector/20190820/ourmid/pngtree-no-image-vector-illustration-isolated-png-image_1694547.jpg -->
                                            <img src="" alt="User Profile Image" class="rounded-circle mr-1 mb-1"
                                                width="200px" height="200px" style="object-fit: cover;" />
                                            }
                                        </span>
                                    </div>
                                    }
                                </div>
                            </div>
                            <div class="col-12 col-md-6 pl-md-4 form-row justify-content-between">
                                <div class="form-group row col-12">
                                    <label class="col-form-label">Business Name:</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fa-industry"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="BussinessName" placeholder="Enter Business Name">
                                    </div>
                                </div>
                                <div class="form-group row col-12">
                                    <label class="col-form-label">Business License:</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fas fa-building"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="busLicNumber" placeholder="Enter Business License">
                                    </div>
                                </div>
                                <div class="form-group row col-12 ">
                                    <label class="col-form-label">IFU Of Company:</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fa-money-bill"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="ifuNumber" placeholder="Enter IFU Of Company">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">First Name:</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-user-tie"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="firstName"
                                        placeholder="Enter Your First Name">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Middle Name:</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-user-tie"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="middleName"
                                        placeholder="Enter Your Middle Name">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Last Name:</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-user-tie"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="lastName"
                                        placeholder="Enter Your Last Name">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Email:</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-regular fa-envelope"></i></span>
                                    </div>
                                    <input type="email" class="form-control customeInput2" formControlName="emailId"
                                        placeholder="Enter Your Email">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Whatsapp No.:</label>
                                <div class="input-group">
                                    <div class="col-12 d-flex flex-wrap p-0">
                                        <div class="col-2 p-0">
                                            <p-dropdown appendTo="body" [options]="countryCodes" optionValue="dial_code"
                                                optionLabel="dial_code" placeholder="country Code"
                                                formControlName="countryCodeForWP" [filter]="true"
                                                styleClass="dark-dropdown dark-dropdown-options">
                                            </p-dropdown>
                                        </div>
                                        <div class="col-10 p-0">
                                            <input type="text" class="form-control customeInput2"
                                                formControlName="whatsAppNumber"
                                                placeholder="Enter Your second mobile number" maxlength="10"
                                                minlength="8">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Address* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-location-dot"></i></span>
                                    </div>
                                    <input placeholder="search for location" autocorrect="off" autocapitalize="off"
                                        spellcheck="off" type="text" class="form-control customeInput2" #search
                                        formControlName="address" (input)="onAddressInputChange($event)" />
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">City* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-city"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="city"
                                        placeholder="Enter Your City">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label col-md-12 px-0">Country* :</label>
                                <div class="col-md-12 px-0">
                                    <p-dropdown appendTo="body" [options]="countriesData" formControlName="country"
                                        optionValue="Id" optionLabel="CountryName" placeholder="Select Country"
                                        [filter]="true" styleClass="dark-dropdown dark-dropdown-options"
                                        [style]="{'width': '100%'}" [(ngModel)]="countryId"></p-dropdown>
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-start">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Importer Id* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-regular fa-id-card"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="dealerNumber"
                                        placeholder="Enter Importer Id">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer border-0 p-0">
                        @if (RoleId === '-1') {
                        <button type="button" class="btn btn-secondary" (click)="back()">Back</button>
                        } @else {
                        <button type="button" class="btn btn-secondary" (click)="dashboard()">Back</button>
                        }
                        <button type="submit" class="btn btn-danger">Save</button>
                    </div>
                </form>
                } @else {
                <form class="forms-sample" *ngIf="addDelerForm" [formGroup]="addDelerForm" (ngSubmit)="addDeler()">
                    <div class="modal-body text-light ">
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Profile Image:</label>
                                <div class="input-group">
                                    <ngx-file-drop class="" dropZoneLabel="Drop files here"
                                        (onFileDrop)="dropped($event)" (onFileOver)="fileOver($event)"
                                        (onFileLeave)="fileLeave($event)"
                                        style="width: 200px; height: 200px; border: 2px dashed #DC3545; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                        <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                                            <div class="text-center">
                                                <div class="text-light mr-2 mb-3">Drag & Drop Profile Photo
                                                    here</div>
                                                <button type="button" class="btn btn-danger"
                                                    (click)="openFileSelector()">Browse Files</button>
                                            </div>
                                        </ng-template>

                                    </ngx-file-drop>
                                    @if (imagePath !== undefined || imagePath !== null || imagePath !== '') {
                                    <div class="upload-table">
                                        <span class="d-flex flex-wrap justify-content-start align-items-center ml-4">
                                            @if(imagePath) {
                                            <img src="{{imagePath}}" alt="" class="rounded-circle mr-1 mb-1"
                                                width="200px" height="200px" style="object-fit: cover;" />
                                            } @else {
                                            <img src="https://png.pngtree.com/png-vector/20190820/ourmid/pngtree-no-image-vector-illustration-isolated-png-image_1694547.jpg"
                                                alt="User Profile Image" class="rounded-circle mr-1 mb-1" width="200px"
                                                height="200px" style="object-fit: cover;" />
                                            }
                                        </span>
                                    </div>
                                    }
                                </div>
                            </div>
                            <div class="col-12 col-md-6 pl-md-4 form-row justify-content-between">
                                <div class="form-group row col-12">
                                    <label class="col-form-label">Business Name* :</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fa-industry"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="BussinessName" placeholder="Business Name">
                                    </div>
                                </div>
                                <div class="form-group row col-12">
                                    <label class="col-form-label">Business License :</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fas fa-building"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="businessLicense" placeholder="Business License">
                                    </div>
                                </div>
                                <div class="form-group row col-12">
                                    <label class="col-form-label">IFU Of Company* :</label>
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                    class="fa-solid fa-money-bill"></i></span>
                                        </div>
                                        <input type="text" class="form-control marginNegative customeInput2"
                                            formControlName="ifuOfCompany" placeholder="IFU Of Company">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">First Name* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-user-tie"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="fName"
                                        placeholder="Enter your First Name...">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Last Name* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-user-tie"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="lName"
                                        placeholder="Enter your Last Name...">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Email :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-regular fa-envelope"></i></span>
                                    </div>
                                    <input type="email" class="form-control customeInput2" formControlName="emailId"
                                        placeholder="Enter Your Email">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Mobile No.* :</label>
                                <div class="input-group">
                                    <div class="col-12 d-flex flex-wrap p-0">
                                        <div class="col-2 p-0">
                                            <p-dropdown appendTo="body" [options]="countryCodes" optionValue="dial_code"
                                                optionLabel="dial_code" placeholder="country Code"
                                                formControlName="countryCode" [filter]="true"
                                                styleClass="dark-dropdown dark-dropdown-options">
                                            </p-dropdown>
                                        </div>
                                        <div class="col-10 p-0">
                                            <input type="text" class="form-control customeInput2"
                                                formControlName="mobileNo" placeholder="Enter Your Mobile number"
                                                maxlength="10" minlength="8">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Whatsapp No. :</label>
                                <div class="input-group">
                                    <div class="col-12 d-flex flex-wrap p-0">
                                        <div class="col-2 p-0">
                                            <p-dropdown appendTo="body" [options]="countryCodes" optionValue="dial_code"
                                                optionLabel="dial_code" placeholder="country Code"
                                                formControlName="countryCodeForWP" [filter]="true"
                                                styleClass="dark-dropdown dark-dropdown-options">
                                            </p-dropdown>
                                        </div>
                                        <div class="col-10 p-0">
                                            <input type="text" class="form-control customeInput2"
                                                formControlName="whatsappNo"
                                                placeholder="Enter Your second mobile number" maxlength="10"
                                                minlength="8">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Password* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-shield-halved"></i></span>
                                    </div>
                                    <input type="password" class="form-control customeInput2" formControlName="password"
                                        placeholder="Enter Your Password">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Address* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-location-dot"></i></span>
                                    </div>
                                    <input placeholder="search for location" autocorrect="off" autocapitalize="off"
                                        spellcheck="off" type="text" class="form-control customeInput2" #search
                                        formControlName="address" (input)="onAddressInputChange($event)" />
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Confirm Password* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-shield-halved"></i></span>
                                    </div>
                                    <input type="password" class="form-control customeInput2"
                                        formControlName="cPassword" placeholder="Enter Your Confirm Password">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label col-md-12 px-0">Country :</label>
                                <div class="col-md-12 px-0">
                                    <p-dropdown appendTo="body" [options]="countriesData" formControlName="countryId"
                                        optionValue="Id" optionLabel="CountryName" placeholder="Select Country"
                                        [filter]="true" styleClass="dark-dropdown dark-dropdown-options"
                                        [(ngModel)]="countryId"></p-dropdown>
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Importer Id* :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-regular fa-id-card"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="dealerId"
                                        placeholder="Enter Importer Id">
                                </div>
                            </div>
                        </div>
                        <div class="form-row justify-content-between">
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">City :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span class="input-group-text bg-danger text-light border-0 rounded-left"><i
                                                class="fa-solid fa-city"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="cityId"
                                        placeholder="Enter Your City">
                                </div>
                            </div>
                            <div class="form-group row col-12 col-md-6">
                                <label class="col-form-label">Web Site :</label>
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <span
                                            class="input-group-text bg-danger px-3 text-light border-0 rounded-left"><i
                                                class="fa-solid fas fa-globe"></i></span>
                                    </div>
                                    <input type="text" class="form-control customeInput2" formControlName="siteWeb"
                                        placeholder="Enter Your WebSite URL">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer border-0 p-0">
                        @if (RoleId === '-1') {
                        <button type="button" class="btn btn-secondary" (click)="back()">Back</button>
                        } @else {
                        <button type="button" class="btn btn-secondary" (click)="dashboard()">Back</button>
                        }
                        <button type="submit" class="btn btn-danger">Save</button>
                    </div>
                </form>
                }
            </div>
        </div>
    </div>
</div>
}