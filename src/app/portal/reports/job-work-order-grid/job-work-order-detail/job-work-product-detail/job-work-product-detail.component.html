<mat-card-content *ngIf="RequestDetail" [formGroup]="RequestDetail">
    <div class="tabBody">
      <div class="row">
        <!-- <div class="col-12 mb-4 d-flex flex-wrap">
          <div class="col-3 px-2">
            <label>Select Customer: </label>
            <p-dropdown
              appendTo="body"
              [filter]="true"
              filterBy="DisplayText"
              [options]="customerMaster"
              class="ui-input"
              [required]="true"
              formControlName="customerId"
              optionLabel="DisplayText"
              optionValue="keyName"
              placeholder="-Select-"
            >
            </p-dropdown>
          </div>
          <div class="col-3 px-2">
            <label>Select GST: </label>
            <p-dropdown
            appendTo="body"
            [filter]="true"
            filterBy="DisplayText"
            [options]="gstMaster"
            class="ui-input"
            [required]="true"
            formControlName="isGst"
            optionLabel="DisplayText"
            optionValue="keyName"
            placeholder="-Select-"
          >
          </p-dropdown>
          </div>
        </div> -->
        <div class="col-8">
          <h2>
            Add Items
            <span class="text-b"
              >({{ requestForm.get("JobWorkProductDetail")?.value.length }})</span
            >
          </h2>
        </div>
        <!-- <div class="col-4 btnWrap mb-2">
                  <p-button label="Add" icon="pi pi-plus" iconPos="left" (onClick)="addOpenSaveDailyWork()">
                  </p-button>
              </div> -->
      </div>
      <p-table
        class="pTable"
        #openingTaskDetails
        [value]="requestForm.get('JobWorkProductDetail')?.value"
        [paginator]="true"
        [alwaysShowPaginator]="false"
        [rows]="5"
        [rowsPerPageOptions]="[5, 10, 20]"
        [totalRecords]="requestForm.get('JobWorkProductDetail')?.value.length"
        dataKey="id"
      >
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th id="header" pSortableColumn="employeeName">
              Product Name
              <p-sortIcon field="employeeName"></p-sortIcon>
            </th>
            <th id="header" pSortableColumn="startTime">
              Design
              <p-sortIcon field="startTime"></p-sortIcon>
            </th>
            <th id="header" pSortableColumn="endTime">
              Size
              <p-sortIcon field="endTime"></p-sortIcon>
            </th>
            <th id="header" pSortableColumn="endTime">
              Colour
              <p-sortIcon field="endTime"></p-sortIcon>
            </th>
            <!-- <th id="header" pSortableColumn="endTime">
              HSN Code
              <p-sortIcon field="endTime"></p-sortIcon>
            </th> -->
            <th id="header" pSortableColumn="endTime">
              Pieces
              <p-sortIcon field="endTime"></p-sortIcon>
            </th>
            <th id="header" pSortableColumn="endTime">
              Rate
              <p-sortIcon field="endTime"></p-sortIcon>
            </th>
            <th id="header">Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-ri="rowIndex">
          <tr *ngIf="!rowData.isDeleted">
            <td>{{ rowData.productName }}</td>
            <td>{{ rowData.designName || "N/A" }}</td>
            <td>{{ rowData.sizeName || "N/A" }}</td>
            <td>{{ rowData.colourName || "N/A" }}</td>
            <!-- <td>{{ rowData.hsnCode || "N/A" }}</td> -->
            <td>{{ rowData.qty || "N/A" }}</td>
            <td>{{ rowData.rate || "N/A" }}</td>
  
            <!-- *ngIf="requestForm.controls.assignedManpowerPermission.get('delete')?.value" -->
            <td>
              <mat-icon class="icon" (click)="deleteDailyWork(ri)"
                >delete</mat-icon
              >
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="5">No Record Found.</td>
          </tr>
        </ng-template>
      </p-table>
      <div class="row">
        <div class="col-12 my-2">
          <p-button
            label="Add"
            icon="pi pi-plus"
            (onClick)="addInputFields()"
          ></p-button>
        </div>
      </div>
      <form class="formWrap" *ngIf="addUserForm" [formGroup]="addUserForm">
        <p-table
          class="pTable"
          *ngIf="isInputVisible"
          #openingTaskDetails
          [value]="ShowAddDataField"
          dataKey="id"
        >
          <ng-template pTemplate="header">
            <tr>
              <th id="header">Product</th>
              <th id="header">Design</th>
              <th id="header">Size</th>
              <th id="header">Colour</th>
              <!-- <th id="header">HSN Code</th> -->
              <th id="header">Qty</th>
              <th id="header">Rate</th>
  
              <th id="header">Action</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body">
            <tr>
              <td>
                <p-dropdown
                  appendTo="body"
                  [filter]="true"
                  filterBy="DisplayText"
                  [options]="ProductMaster"
                  class="ui-input"
                  [required]="true"
                  formControlName="productId"
                  optionLabel="DisplayText"
                  optionValue="KeyName"
                  placeholder="-Select-"
                >
                </p-dropdown>
              </td>
              <td>
                <p-dropdown
                  appendTo="body"
                  [filter]="true"
                  filterBy="DisplayText"
                  [options]="DesignMaster"
                  class="ui-input"
                  [required]="true"
                  formControlName="designId"
                  optionLabel="DisplayText"
                  optionValue="KeyName"
                  placeholder="-Select-"
                >
                </p-dropdown>
              </td>
              <td>
                <p-dropdown
                  appendTo="body"
                  [filter]="true"
                  filterBy="DisplayText"
                  [options]="SizeMaster"
                  class="ui-input"
                  [required]="true"
                  formControlName="sizeId"
                  optionLabel="DisplayText"
                  optionValue="KeyName"
                  placeholder="-Select-"
                >
                </p-dropdown>
              </td>
              <td>
                <p-dropdown
                  appendTo="body"
                  [filter]="true"
                  filterBy="DisplayText"
                  [options]="ColourMaster"
                  class="ui-input"
                  [required]="true"
                  formControlName="colourId"
                  optionLabel="DisplayText"
                  optionValue="KeyName"
                  placeholder="-Select-"
                >
                </p-dropdown>
              </td>
              <!-- <td>
                <p-dropdown
                  appendTo="body"
                  [filter]="true"
                  filterBy="DisplayText"
                  [options]="HSN_Master"
                  class="ui-input"
                  [required]="true"
                  formControlName="hsnCodeId"
                  optionLabel="DisplayText"
                  optionValue="KeyName"
                  placeholder="-Select-"
                >
                </p-dropdown>
              </td> -->
              <td>
                <input
                  type="text"
                  pInputText
                  class="form-control"
                  formControlName="qty"
                />
              </td>
              <td>
                <input
                  type="text"
                  pInputText
                  class="form-control"
                  formControlName="rate"
                />
              </td>
              <td>
                <button
                  class="me-2"
                  mat-button
                  color="secondary"
                  type="button"
                  (click)="onCancel()"
                >
                  Cancel
                </button>
                <button
                  mat-button
                  color="primary"
                  type="button"
                  (click)="onSubmit()"
                >
                  Save
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </form>
    </div>
  </mat-card-content>
  